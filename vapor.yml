id: 62643
name: my-learning-journal
environments:
    production:
        memory: 1024
        cli-memory: 512
        runtime: 'php-8.3:al2'
        database: 'vaporizeus'
        storage: 'my-learning-blog'
        build:
            - 'composer install --no-dev'
            - 'php artisan event:cache'
            - 'npm ci && npm run build && rm -rf node_modules'
        deploy:
            - 'php artisan migrate:fresh --seed --force'
            - 'php artisan queue:restart'

    staging:
        memory: 1024
        cli-memory: 512
        runtime: 'php-8.3:al2'
        database: 'staging'
        build:
            - 'composer install'
            - 'php artisan event:cache'
            - 'npm ci && npm run build && rm -rf node_modules'
        deploy:
            - 'php artisan migrate:fresh --seed --force'
